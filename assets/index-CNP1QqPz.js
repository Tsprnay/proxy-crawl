import{r as p,j as s,R as O}from"./react-Baehr4Gm.js";import{c as E}from"./react-dom-DADA75nA.js";import{c as N}from"./zustand-BGSl4CHS.js";import{a as P}from"./axios-C8DqakIB.js";import{S as L}from"./@radix-ui-CORXzhxG.js";import{c as T}from"./class-variance-authority-Bb4qSo10.js";import{c as I}from"./clsx-B-dksMZM.js";import{t as A}from"./tailwind-merge-BOZU2X2x.js";import{L as _,A as z,S as X,C as F,a as $,F as U,b as D,c as K}from"./lucide-react-LnVb77GN.js";import"./scheduler-CzFDRTuY.js";import"./use-sync-external-store-CXcVTNSR.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(e){if(e.ep)return;e.ep=!0;const a=r(e);fetch(e.href,a)}})();const g={http:["https://openproxy.space/list/http","https://api.proxyscrape.com/v3/free-proxy-list/get?request=displayproxies&protocol=http&proxy_format=ipport&format=text&timeout=20000","https://proxyspace.pro/http.txt","https://rootjazz.com/proxies/proxies.txt","https://spys.me/proxy.txt","https://proxyhub.me/en/all-http-proxy-list.html","https://proxy-tools.com/proxy/http","https://www.proxy-list.download/api/v1/get?type=http","https://www.proxynova.com/proxy-server-list/","https://cdn.rei.my.id/proxy/HTTP","https://raw.githubusercontent.com/monosans/proxy-list/main/proxies/http.txt","https://raw.githubusercontent.com/zevtyardt/proxy-list/main/http.txt","https://raw.githubusercontent.com/ALIILAPRO/Proxy/main/http.txt","https://raw.githubusercontent.com/Zaeem20/FREE_PROXIES_LIST/master/http.txt","https://raw.githubusercontent.com/Zaeem20/FREE_PROXIES_LIST/master/https.txt","https://raw.githubusercontent.com/vakhov/fresh-proxy-list/master/http.txt","https://raw.githubusercontent.com/vakhov/fresh-proxy-list/master/https.txt","https://raw.githubusercontent.com/aslisk/proxyhttps/master/https.txt","https://raw.githubusercontent.com/hendrikbgr/Free-Proxy-Repo/master/proxy_list.txt","https://raw.githubusercontent.com/mmpx12/proxy-list/master/https.txt","https://raw.githubusercontent.com/mmpx12/proxy-list/master/http.txt","https://raw.githubusercontent.com/roosterkid/openproxylist/master/HTTPS_RAW.txt","https://raw.githubusercontent.com/ErcinDedeoglu/proxies/main/proxies/https.txt","https://raw.githubusercontent.com/ErcinDedeoglu/proxies/main/proxies/http.txt"],socks4:["https://openproxy.space/list/socks4","https://api.proxyscrape.com/v3/free-proxy-list/get?request=displayproxies&protocol=socks4&proxy_format=ipport&format=text&timeout=20000","https://proxyspace.pro/socks4.txt","https://www.proxy-list.download/api/v1/get?type=socks4","https://proxyhub.me/en/all-socks4-proxy-list.html","https://www.my-proxy.com/free-socks-4-proxy.html","https://www.socks-proxy.net/","https://cdn.rei.my.id/proxy/SOCKS4","https://raw.githubusercontent.com/monosans/proxy-list/main/proxies/socks4.txt","https://raw.githubusercontent.com/zevtyardt/proxy-list/main/socks4.txt","https://raw.githubusercontent.com/ALIILAPRO/Proxy/main/socks4.txt","https://raw.githubusercontent.com/Zaeem20/FREE_PROXIES_LIST/master/socks4.txt","https://raw.githubusercontent.com/noarche/proxylist-socks5-sock4-exported-updates/main/socks4-online.txt","https://raw.githubusercontent.com/vakhov/fresh-proxy-list/master/socks4.txt","https://raw.githubusercontent.com/mmpx12/proxy-list/master/socks4.txt","https://raw.githubusercontent.com/roosterkid/openproxylist/master/SOCKS4_RAW.txt","https://raw.githubusercontent.com/TheSpeedX/PROXY-List/master/socks4.txt","https://raw.githubusercontent.com/TheSpeedX/PROXY-List/master/http.txt","https://raw.githubusercontent.com/TheSpeedX/PROXY-List/master/httpS.txt","https://raw.githubusercontent.com/ErcinDedeoglu/proxies/main/proxies/socks4.txt"],socks5:["https://openproxy.space/list/socks5","https://api.proxyscrape.com/v3/free-proxy-list/get?request=displayproxies&protocol=socks5&proxy_format=ipport&format=text&timeout=20000","https://proxyspace.pro/socks5.txt","https://www.proxy-list.download/api/v1/get?type=socks5","https://proxy-tools.com/proxy/socks5","https://proxyhub.me/en/all-sock5-proxy-list.html","https://cdn.rei.my.id/proxy/SOCKS5","https://raw.githubusercontent.com/hookzof/socks5_list/master/proxy.txt","https://raw.githubusercontent.com/monosans/proxy-list/main/proxies/socks5.txt","https://raw.githubusercontent.com/zevtyardt/proxy-list/main/socks5.txt","https://raw.githubusercontent.com/ALIILAPRO/Proxy/main/socks5.txt","https://raw.githubusercontent.com/Zaeem20/FREE_PROXIES_LIST/master/socks5.txt","https://raw.githubusercontent.com/noarche/proxylist-socks5-sock4-exported-updates/main/socks5-online.txt","https://raw.githubusercontent.com/vakhov/fresh-proxy-list/master/socks5.txt","https://raw.githubusercontent.com/mmpx12/proxy-list/master/socks5.txt","https://raw.githubusercontent.com/roosterkid/openproxylist/master/SOCKS5_RAW.txt","https://raw.githubusercontent.com/TheSpeedX/PROXY-List/master/socks5.txt","https://raw.githubusercontent.com/ErcinDedeoglu/proxies/main/proxies/socks5.txt"]},v=N((t,n)=>({resources:{"http/s":g.http,socks4:g.socks4,socks5:g.socks5},selectedResource:"http/s",results:[],isCrawling:!1,setResources:r=>t({resources:r}),addResources:(r,o)=>t(e=>({resources:{...e.resources,[r]:o}})),setSelectedResource:r=>t({selectedResource:r}),getSelectedResources:()=>n().resources[n().selectedResource],setResults:r=>t({results:r}),addResult:r=>t(o=>({results:[...o.results,r]})),setIsCrawling:r=>t({isCrawling:r}),exportAs:r=>{const o=n().results;switch(r){case"text":return o.join(`
`);case"csv":return[...o.map(e=>`"${e.replace(/"/g,'""')}"`)].join(`
`);case"json":return JSON.stringify(o,null,2);default:throw new Error(`Unsupported export format: ${r}`)}}})),Z=/(?:^|\D)(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}:\d{1,5})(?:\D|$)/g,d=["","https://cors.eu.org/","https://corsproxy.io/?"],w=async t=>{var r;if(!t.match(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/)){console.error("Invalid URL:",t);return}for(let o=0;o<d.length;o++)try{const e=d[o]+t,m=((r=(await P.get(e,{timeout:30*1e3})).data.match(Z))==null?void 0:r.map(l=>l.trim()))??[];return m.forEach(l=>{if(l&&!l.includes("127.0.0.1"))return l.replace(/"/g,"").replace(/>/g,"")}),console.log(`Attempt ${o+1} successful for ${d[o]+t}`),m}catch(e){console.error(`Attempt ${o+1} failed for ${d[o]+t}:`,e),o===d.length-1&&console.error(`All attempts failed for ${d[o]+t}`)}},Y=T("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});function k(...t){return A(I(t))}const h=p.forwardRef(({className:t,variant:n,size:r,asChild:o=!1,...e},a)=>{const c=o?L:"button";return s.jsx(c,{className:k(Y({variant:n,size:r,className:t})),ref:a,...e})});h.displayName="Button";const y=p.forwardRef(({className:t,...n},r)=>s.jsx("textarea",{className:k("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));y.displayName="Textarea";const q=[{name:"http/s",label:"HTTP/S"},{name:"socks4",label:"SOCKS4"},{name:"socks5",label:"SOCKS5"}];function B(){const{getSelectedResources:t,addResources:n,setResources:r,setSelectedResource:o,selectedResource:e,isCrawling:a,setIsCrawling:c,addResult:m,setResults:l,resources:x}=v();p.useEffect(()=>{const i=localStorage.getItem("resources");if(i)try{const u=JSON.parse(i);r(u)}catch(u){console.error("Failed to parse saved resources:",u)}},[]);const f=p.useCallback(i=>{o(i)},[o]),S=p.useCallback(i=>{const u=i.target.value.split(`
`).filter(Boolean);n(e,u)},[e,n]),R=p.useCallback(async()=>{c(!0),l([]);const i=t();await Promise.all(i.map(async u=>{const b=await w(u);if(b)for(const j of b)m(j)})),c(!1)},[c,l,t,w]),C=p.useCallback(()=>{try{localStorage.setItem("resources",JSON.stringify(x)),console.log("Resources saved successfully.")}catch(i){console.error("Failed to save resources:",i)}},[x]);return s.jsxs("section",{className:"flex grow flex-col gap-4 rounded-lg bg-gray-700 p-4 shadow-md",children:[s.jsx("div",{className:"flex gap-2",children:q.map(i=>s.jsx(h,{variant:e===i.name?"default":"outline",className:"w-full transition-colors duration-200 ease-in-out",onClick:()=>f(i.name),title:`Switch to ${i.label}`,disabled:a,children:i.label},i.name))}),s.jsx(y,{placeholder:"Proxy resources",className:"h-full resize-none text-sm focus:ring-2 focus:ring-primary",spellCheck:!1,value:t().join(`
`),onChange:S,disabled:a}),s.jsxs("div",{className:"flex w-full gap-2",children:[s.jsxs(h,{variant:"default",className:"w-full grow bg-primary transition-colors duration-200 ease-in-out",onClick:R,disabled:a,title:a?"Crawling in progress":"Start Crawling",children:[s.jsx("span",{className:"mr-2 font-semibold",children:a?"Crawling":"Start Crawling"}),a?s.jsx(_,{size:18,className:"animate-spin"}):s.jsx(z,{size:18})]}),s.jsx("div",{className:"flex gap-1",children:s.jsx(h,{variant:"outline",className:"transition-colors duration-200 ease-in-out",title:"Save resources",onClick:C,disabled:a,children:s.jsx(X,{size:18})})})]})]})}const J=[{format:"text",label:"Save as TEXT",icon:U},{format:"csv",label:"Save as CSV",icon:D},{format:"json",label:"Save as JSON",icon:K}];function V(){const{results:t,exportAs:n}=v(),[r,o]=p.useState(!1),e=c=>{const m=n(c),l=new Blob([m],{type:"text/plain"}),x=URL.createObjectURL(l),f=document.createElement("a");f.href=x,f.download=`results.${c}`,f.click(),URL.revokeObjectURL(x)},a=()=>{o(!0),navigator.clipboard.writeText(t.join(`
`)),setTimeout(()=>o(!1),2e3)};return s.jsxs("section",{className:"relative flex grow flex-col gap-4 rounded-lg bg-gray-700 p-4 shadow-md",children:[t.length>0&&s.jsxs("p",{className:"absolute left-0 top-0 z-50 w-full rounded-t bg-primary p-2 text-sm text-background",children:[t.length," Results"]}),s.jsx(y,{placeholder:"Crawled results",className:`grow resize-none focus:ring-2 focus:ring-blue-500 ${t.length?"mt-8":"mt-0"}`,value:t.join(`
`),disabled:!t.length,readOnly:!0}),s.jsxs("div",{className:"grid grid-cols-1 gap-1 md:grid-cols-3 md:gap-2",children:[J.map(c=>s.jsxs(h,{className:"flex w-full items-center justify-center transition-colors duration-200 ease-in-out",variant:"outline",onClick:()=>e(c.format),title:c.label,disabled:!t.length,spellCheck:!1,children:[s.jsx(c.icon,{className:"mr-2",size:18}),c.label]},c.format)),s.jsxs(h,{className:"flex w-full items-center justify-center transition-colors duration-200 ease-in-out md:col-span-3",variant:"outline",onClick:a,title:"Copy results to clipboard",disabled:!t.length,spellCheck:!1,children:[r?s.jsx(F,{className:"mr-2",size:18}):s.jsx($,{className:"mr-2",size:18}),"Copy to clipboard"]})]})]})}function G(){return s.jsx("main",{className:"container mx-auto h-screen p-4",children:s.jsxs("div",{className:"flex h-full flex-col gap-4",children:[s.jsx(B,{}),s.jsx(V,{})]})})}E.createRoot(document.getElementById("root")).render(s.jsx(O.StrictMode,{children:s.jsx(G,{})}));
